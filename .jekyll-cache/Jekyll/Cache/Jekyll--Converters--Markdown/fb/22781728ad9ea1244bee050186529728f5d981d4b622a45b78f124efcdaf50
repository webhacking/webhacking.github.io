I"Ü	<p>35ë²ˆ ë¬¸ì œëŠ” 350 ìŠ¤ì½”ì–´ì˜ ë¬¸ì œì…ë‹ˆë‹¤.</p>

<p>ë¬¸ì œì˜ íŒíŠ¸ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.</p>

<p>ì½”ë“œë¥¼ ì½ì–´ë³´ë©´ ì²«ë²ˆì§¸ë¡œ get ë©”ì†Œë“œì˜ phone íŒŒë¼ë¯¸í„°ê°€ ì°¸ì¼ ê²½ìš° <code class="highlighter-rouge">challenge35_list</code> í…Œì´ë¸”ì— ë ˆì½”ë“œë¥¼ ìƒì„±í•œë‹¤.</p>

<p>ì´í›„ <code class="highlighter-rouge">admin_ck</code> ë¼ëŠ” ë³€ìˆ˜ì— challenge35_list í…Œì´ë¸”ì— ì¡°ê±´ì— ë”°ë¥¸ ë ˆì½”ë“œë¥¼ ëŒ€ì…í•œë‹¤.</p>

<p>ì¡°ê±´ì€ idëŠ” admin ì´ì–´ì•¼í•˜ê³ , ipëŠ” ë³¸ì¸ì˜ ì•„ì´í”¼ì—¬ì•¼í•©ë‹ˆë‹¤.</p>

<p>ëŒ€ì…ëœ ë³€ìˆ˜ì˜ <code class="highlighter-rouge">ip</code> ê°€ ë³¸ì¸ì˜ ì•„ì´í”¼ì™€ ë™ì¼í•˜ë‹¤ë©´ ë¬¸ì œë¥¼ í•´ê²° í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p>ëª‡ë²ˆì˜ ìš”ì²­ ì¤‘, webhacking.kr ì´ php magic quotes ì˜µì…˜ì´ ì¼œì ¸ìˆì–´ quote ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŒì„ ì•Œ ì•˜ìŠµë‹ˆë‹¤.</p>

<p>ë§Œì•½ ì˜µì…˜ì´ êº¼ì ¸ìˆì—ˆë‹¤ë©´ í•µìŠ¤ê°’ìœ¼ë¡œ ë¬¸ìì—´ì„ í‘œí˜„í•˜ê±°ë‚˜ MySQLì˜ charí•¨ìˆ˜ë¥¼ í†µí•˜ì—¬ ë¬¸ìë¥¼ ë§Œë“¤ê³ , concat í•¨ìˆ˜ë¥¼ í†µí•´ í•´ë‹¹
ë¬¸ìë¥¼ ì—°ê²°í•´ì•¼í•©ë‹ˆë‹¤.</p>

<p>ì•„ë˜ëŠ” â€œphp magic quotesâ€ ì— ëŒ€í•œ ì„¤ëª…ì…ë‹ˆë‹¤.</p>

<blockquote>
  <p>Magic Quotes is a process that automagically escapes incoming data to the
PHP script. Itâ€™s preferred to code with magic quotes off and to instead escape
the data at runtime, as needed.</p>
</blockquote>

<p>phone:3063),(â€˜adminâ€™,â€™1.1.1.1â€™, 3072</p>

<p>í•˜ì§€ë§Œ ì½”ë“œë¥¼ ë³´ë©´ ì•Œ ë“¯ì´ ì „ìëŠ” ì´ë¯¸ í•„í„°ë§ì´ ë˜ì–´ìˆìœ¼ë‹ˆ í›„ìë¡œ ì§„í–‰ì„í•´ì•¼í•©ë‹ˆë‹¤.</p>

<p>phone íŒŒë¼ë¯¸í„°ì˜ ì…ë ¥ëœ ê°’ì€ ì•„ë˜ì™€ ê°™ë‹¤. (ì•„ìŠ¤í‚¤ ì½”ë“œë¡œ ì¹˜í™˜ëœ admin,ì•„ì´í”¼)</p>

<p>e.g. â€œ1),(concat(char(97,100,109,105,110)),concat(char(49,46,50,53,53,46,50,52
,46,52,57)),1â€</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if($_GET[phone]){if(eregi("%|\*|/|=|from|select|x|-|#|\(\(",$_GET[phone])) exit("no hack");@mysql_query("insert into challenge35_list(id,ip,phone) values('$_SESSION[id]','$_SERVER[REMOTE_ADDR]',$_GET[phone])") or die("query error");echo("Done");}$admin_ck=mysql_fetch_array(mysql_query("select ip from challenge35_list where id='admin' and ip='$_SERVER[REMOTE_ADDR]'"));if($admin_ck[ip]==$_SERVER[REMOTE_ADDR]){@solve();@mysql_query("delete from challenge35_list");}$phone_list=@mysql_query("select * from challenge35_list where ip='$_SERVER[REMOTE_ADDR]'");echo("");
</code></pre></div></div>

<p>í´ë¦¬ì–´.</p>

<p><img src="/assets/images/posts/759/2713533A59311AFC3859B3.JPEG" alt="" /></p>

:ET